{% load static %}
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Survey Project | Home</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    
  </head>
  <body>
   
 
<section  
class="vh-100 gradient-custom overflow-auto" style="background-image: linear-gradient(to bottom right, white, blue);">

{% for message in messages %}
<div class="alert alert-success alert-dismissible fade show d-flex justify-content-center" role="alert">
  {{message}}
</div>
 
  {% endfor %}
       <div class="d-flex justify-content-between p-5">
        <h2>Hello <span class='text-uppercase fw-bold'>{{request.user}} </span></h2>
        <a href="{% url "project" %}" type="button" class="btn btn-outline-primary"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-menu-up" viewBox="0 0 16 16">
          <path d="M7.646 15.854a.5.5 0 0 0 .708 0L10.207 14H14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h3.793zM1 9V6h14v3zm14 1v2a1 1 0 0 1-1 1h-3.793a1 1 0 0 0-.707.293l-1.5 1.5-1.5-1.5A1 1 0 0 0 5.793 13H2a1 1 0 0 1-1-1v-2zm0-5H1V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1zM2 11.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 0-1h-8a.5.5 0 0 0-.5.5m0-4a.5.5 0 0 0 .5.5h11a.5.5 0 0 0 0-1h-11a.5.5 0 0 0-.5.5m0-4a.5.5 0 0 0 .5.5h6a.5.5 0 0 0 0-1h-6a.5.5 0 0 0-.5.5"/>
        </svg></a>
<a href={% url "logout" %} class="icon-link icon-link-hover rounded-pill p-2 btn btn-outline-light" style="--bs-link-hover-color-rgb: 255,255,255; ">LogOut
  <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-box-arrow-right" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z"/>
    <path fill-rule="evenodd" d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"/>
  </svg>
</a>
       </div>

       <div class="d-flex justify-content-evenly">
        <div class="card"  style="width: 30rem;">
        <div class="card-header shadow-lg p-1 text-center bg-primary">
          Total Project
        </div>
        <div class="card-body">
          <h5 class="card-title">{{total_proj}}</h5>
         
        </div>
      </div>
<div class="card"  style="width: 30rem;">
        <div class="card-header shadow-lg p-1 text-center bg-primary ">
          Create New Project
        </div>
        <div class="card-body">
          
          <!-- Button trigger modal -->
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
  New Project
  
</button>

<!-- Modal -->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content" style="background-image: linear-gradient(to bottom right, white, blue);">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="staticBackdropLabel">New Project</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form method='POST'>
          {% csrf_token %}
          {{form.as_p}}
          <input type='submit' name='submit'/>
      </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        
      </div>
    </div>
  </div>
</div>
        </div>
      </div>

       </div>
       {% comment %} <div class='p-5 mt-5'>
        <table class="table table-striped table-hover caption-top">
          <caption class='text-primary'>Ongoing Projects</caption>
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Project Name</th>
      <th scope="col">Description</th>
      <th scope="col"></th>
    </tr>
  </thead>
  {% for p in projects  %}
  <tr>
    <td>{{p.id}}</td>
    <td>{{p.name}}</td>
    <td>{{p.description}}</td>

    <td>
      <a href="{% url "projectform" p.id %}" class="btn btn-success" type="button">Update</a>

 </td>
    <td>
      <a href='{% url "proview" p.id %}' class="btn btn-primary" type="button">View</a>
    </td>
    <td>
      <a href="{% url "delete" p.id %}" class="btn btn-danger" type="button">Delete</a>
    
 </td>
  </tr>
  {% endfor %}
  <tbody>
   
  </tbody>
</table>
       </div> {% endcomment %}
<div class='p-4 mt-5'>
       <table class="table table-striped table-hover caption-top">
        <caption class='text-primary'>My Projects</caption>
<thead>
  <tr>
    <th scope="col">#</th>
    <th scope="col">Project Name</th>
    <th scope="col">Description</th>
    <th scope="col">Actions</th>
    <th scope="col"></th>
    <th scope="col"></th>
  </tr>
</thead>
{% for p in filtered_projects  %}
<tr>
  <td>{{p.id}}</td>
  <td>{{p.name}}</td>
  <td>{{p.description}}</td>

  <td>
    <a href="{% url "projectform" p.id %}" class="btn btn-success" type="button">Update</a>

</td>
  <td>
    <a href='{% url "proview" p.id %}' class="btn btn-primary" type="button">View</a>
  </td>
  <td>
    <a href="{% url "delete" p.id %}" class="btn btn-danger" type="button">Delete</a>
  
</td>
</tr>
{% endfor %}
<tbody>
 
</tbody>
</table>

</div>


</section>


    <script src="" async defer></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  
  </body>
</html>